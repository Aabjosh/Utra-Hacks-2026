<!DOCTYPE html>
<html>
<head>
    <title>Auto Upload</title>
</head>
<body>
    <h2>Select an image</h2>

    <input type="file" id="imageInput" accept="image/*">

    <p id="status"></p>

    <script>
        const input = document.getElementById("imageInput");
        const status = document.getElementById("status");

        input.addEventListener("change", async () => {
            const file = input.files[0];
            if (!file) return;

            status.textContent = "Uploading...";

            const formData = new FormData();
            formData.append("image", file);

            const response = await fetch("/", {
                method: "POST",
                body: formData
            });

            const text = await response.text();
            status.textContent = text;
        });
    </script>
</body>
</html>
